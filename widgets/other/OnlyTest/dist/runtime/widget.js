System.register(["jimu-core","esri/layers/FeatureLayer","esri/rest/support/Query"],(function(e,t){var r={},o={},n={};return{setters:[function(e){r.React=e.React,r.getAppStore=e.getAppStore},function(e){o.default=e.default},function(e){n.default=e.default}],execute:function(){e((()=>{var e={9818:e=>{"use strict";e.exports=o},7902:e=>{"use strict";e.exports=n},8891:e=>{"use strict";e.exports=r}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="";var u={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(u),a.d(u,{__set_webpack_public_path__:()=>s,default:()=>n});var e=a(8891),t=a(9818),r=a(7902),o=function(e,t,r,o){return new(r||(r=Promise))((function(n,a){function u(e){try{i(o.next(e))}catch(e){a(e)}}function s(e){try{i(o.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,s)}i((o=o.apply(e,t||[])).next())}))};function n(n){return e.React.useEffect((()=>{const a=new t.default({url:"https://gis.uzspace.uz/uzspacesrvr/rest/services/Hosted/NewDataStruct/FeatureServer/0"}),u=setTimeout((()=>o(this,void 0,void 0,(function*(){const t=new Date,o=(0,e.getAppStore)().getState();console.log(n),console.log(o);const u=new r.default({where:`portalname = '${o.appInfo.name}' AND username = '${o.user.username}' AND datefinstr = '${t.toLocaleDateString("ru")}'`}),s=yield a.queryFeatures(u);if(console.log(s.features.length),s.features.length)console.log("Find");else{const e=yield a.applyEdits({addFeatures:[{attributes:{portalname:o.appInfo.name,username:o.user.username,fullname:o.user.fullName,datefinstr:t.toLocaleDateString("ru"),datefinint:Math.floor(t.getTime()/1e3),llin:Math.floor(t.getTime()/1e3),lout:Math.floor(t.getTime()/1e3),dur:0,portalid:o.appInfo.id,portcreat:o.appInfo.owner}}]});console.log("Added: ",e)}}))),1e3);return()=>{clearTimeout(u)}}),[]),e.React.createElement("div",{className:"mainArea"})}function s(e){a.p=e}})(),u})())}}}));